import{u as g,j as s,L as S}from"./app-BiH4P8My.js";import{H as k}from"./heading-small-CkE8gIA2.js";import{l as P,a as b,B as o,t as m,e as y}from"./createLucideIcon-DG-B7J-s.js";import{C as n,a as p,b as l,e as c,c as L}from"./card-BbPX60WY.js";import{C as v}from"./checkbox-CIv66gw9.js";import{L as A}from"./label-Ddilgkqs.js";import{A as B}from"./app-layout-DUnT08nq.js";import F from"./permission-form-sheet-az7Hq8zo.js";import R from"./role-form-sheet-hFM7JSOX.js";import{P as D}from"./plus-30Tt4QB3.js";import{A as E}from"./arrow-left-ri15f8VH.js";import{S as H}from"./square-pen-Bv4-DGZ_.js";import{C as N}from"./check-Bq5s-8Yk.js";/* empty css            */import"./index-DWcPMCyB.js";import"./index-giV2u841.js";import"./index-BqIUXS-K.js";import"./index-BQeWqtjx.js";import"./index-BEupMSZk.js";import"./sidebar-Dh8Qt7pc.js";import"./sheet-xVzIOfJL.js";import"./index-CmgN6aKE.js";import"./index-BsQXkd5s.js";import"./index-Cb4fGWpM.js";import"./theme-toggler-XULmfCDb.js";import"./app-logo-icon-B0jGdVxF.js";import"./index-DDfMi-x4.js";import"./index-JQmWvh67.js";import"./avatar-DheVsBg0.js";import"./form-control-DR7npJQm.js";import"./submit-button-CjomVUM8.js";import"./loader-circle-BkCqIStN.js";import"./scroll-area-D4q6o5em.js";const xs=({role:e,permissions:d})=>{const h=P(d,"group"),{data:t,setData:x,put:j}=g({permissions:e.permissions.map(r=>r.name)}),u=()=>{j(route("role.update",e.id),{preserveScroll:!0,onSuccess:()=>{m.success("Role updated successfully")},onError:r=>m.error(y(r))})};return s.jsxs(B,{title:"Detail Role",description:"Detail role",actions:s.jsxs(s.Fragment,{children:[s.jsx(S,{href:route("role.index"),children:s.jsxs(o,{variant:"secondary",children:[s.jsx(E,{}),"Back to route list"]})}),s.jsx(R,{purpose:"edit",role:e,children:s.jsxs(o,{children:[s.jsx(H,{})," Edit nama role"]})}),s.jsxs(o,{onClick:u,children:[s.jsx(N,{})," Simpan"]})]}),children:[s.jsx(n,{children:s.jsxs(p,{children:[s.jsx(l,{children:b(e.name)}),s.jsx(c,{children:e.permissions.length?e.permissions?.map(r=>r.name).join(", "):"Belum ada permission"})]})}),s.jsx(k,{title:"Permission",description:"Pilih permission yang ingin digunakan unruk role ini",actions:s.jsx(s.Fragment,{children:s.jsx(F,{purpose:"create",children:s.jsxs(o,{variant:"secondary",children:[s.jsx(D,{})," Tambah permission"]})})})}),s.jsx("div",{className:"grid grid-cols-4 gap-6",children:Object.entries(h).map(([r,a])=>s.jsxs(n,{children:[s.jsxs(p,{children:[s.jsx(l,{children:r.charAt(0).toUpperCase()+r.slice(1)}),s.jsxs(c,{children:[a.length," permissions"]})]}),s.jsx(L,{children:s.jsx("div",{className:"grid",children:a.map(i=>s.jsxs(A,{className:"flex h-8 items-center gap-2",children:[s.jsx(v,{defaultChecked:t.permissions.includes(i.name),onCheckedChange:f=>x("permissions",f?[...t.permissions,i.name]:t.permissions.filter(C=>C!==i.name))}),i.name]},i.id))})})]},r))})]})};export{xs as default};
